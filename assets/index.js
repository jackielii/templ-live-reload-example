(()=>{document.addEventListener("alpine:init",()=>{Alpine.data("menu",(n={open:!1})=>{let t=o();return{open:n.open,items:null,activeDescendant:null,activeIndex:null,init(){this.items=Array.from(this.$el.querySelectorAll('[role="menuitem"]')),this.$watch("open",()=>{this.open&&(this.activeIndex=-1)}),this.$watch("activeIndex",()=>{this.activeDescendant=this.activeIndex===-1&&this.items?.length?null:this.items[this.activeIndex].id})},focusButton(){this.$refs.button.focus()},onButtonClick(){this.open=!this.open,this.open&&this.$nextTick(()=>{this.$refs["menu-items"].focus()})},onButtonEnter(){this.open=!this.open,this.open&&(this.activeIndex=0,this.$nextTick(()=>{this.$refs["menu-items"].focus()}))},onArrowUp(){if(!this.open){this.open=!0,this.activeIndex=this.items.length-1;return}this.activeIndex!==0&&(this.activeIndex=this.activeIndex===-1?this.items.length-1:this.activeIndex-1)},onArrowDown(){if(!this.open){this.open=!0,this.activeIndex=0;return}this.activeIndex!==this.items.length-1&&(this.activeIndex=this.activeIndex+1)},onClickAway(e){if(this.open){let i=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");this.open=!1,e.target.closest(i)||this.focusButton()}},onMouseEnter(e){t.update(e)},onMouseMove(e,i){t.wasMoved(e)&&(this.activeIndex=i)},onMouseLeave(e){t.wasMoved(e)&&(this.activeIndex=-1)},menuContainer:{"@keydown.escape.stop"(){this.open=!1,this.focusButton()},"@click.outside"(){this.onClickAway(this.$event)}},menuButton:{"x-ref":"button","@click"(){this.onButtonClick()},"@keyup.space.prevent"(){this.onButtonEnter()},"@keydown.enter.prevent"(){this.onButtonEnter()},":aria-expanded"(){return this.open.toString()},"@keydown.up.prevent"(){this.onArrowUp()},"@keydown.down.prevent"(){this.onArrowDown()}},menuItems:{"x-ref":"menu-items","x-show"(){return this.open},":aria-activedescendant"(){return this.activeDescendant},"@keydown.up.prevent"(){this.onArrowUp()},"@keydown.down.prevent"(){this.onArrowDown()},"@keydown.tab"(){this.open=!1},"@keydown.enter.prevent"(){this.open=!1,this.focusButton()},"@keydown.space.prevent"(){this.open=!1,this.focusButton()}},menuItem:{"@mouseenter"(){this.onMouseEnter(this.$event)},"@mousemove"(){this.onMouseMove(this.$event,this.$el.dataset.index)},"@mouseleave"(){this.onMouseLeave(this.$event)},"@click"(){this.open=!1,this.focusButton()},":id"(){return`menu-item-${this.$el.dataset.index}`}}}})});function o(){let n=[-1,-1];return{wasMoved(t){let e=[t.screenX,t.screenY];return n[0]===e[0]&&n[1]===e[1]?!1:(n=e,!0)},update(t){n=[t.screenX,t.screenY]}}}var r="Hello World!";console.log(r);})();
